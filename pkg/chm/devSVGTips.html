<html><head><title>A graphics device for SVG with dynamic tips and hyperlinks</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="Rchm.css">
</head>
<body>

<table width="100%"><tr><td>devSVGTips(RSVGTipsDevice)</td><td align="right">R Documentation</td></tr></table><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
<param name="keyword" value="R:   devSVGTips">
<param name="keyword" value=" A graphics device for SVG with dynamic tips and hyperlinks">
</object>


<h2>A graphics device for SVG with dynamic tips and hyperlinks</h2>


<h3>Description</h3>

<p>
This function starts up an SVG graphics device that will write to a
file.  The SVG shapes and text have optional tooltips and/or
hyperlinks.
</p>


<h3>Usage</h3>

<pre>
devSVGTips(file = "Rplots.svg", width = 7, height = 7,
       bg = "white", fg = "black", onefile=TRUE,
       xmlHeader=FALSE, useStyleAttributes=FALSE,
       toolTipMode = 1, toolTipFontSize = 10,
       toolTipOpacity = 1.0, title = "R SVG Plot", sub.special=TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>file</code></td>
<td>
the file where output will appear</td></tr>
<tr valign="top"><td><code>width</code></td>
<td>
The width of the plot in inches</td></tr>
<tr valign="top"><td><code>height</code></td>
<td>
the height of the plot in inches</td></tr>
<tr valign="top"><td><code>bg</code></td>
<td>
the background color for the plot</td></tr>
<tr valign="top"><td><code>fg</code></td>
<td>
the foreground color for the plot</td></tr>
<tr valign="top"><td><code>onefile</code></td>
<td>
merge plot calls into onefile or separate them to separate pages</td></tr>
<tr valign="top"><td><code>xmlHeader</code></td>
<td>
Print XML header or not (it is recommended to not print a header)</td></tr>
<tr valign="top"><td><code>useStyleAttributes</code></td>
<td>
Specify shape attributes in a
<code>style</code> attribute or as plain attributes (plain attributes is recommended)</td></tr>
<tr valign="top"><td><code>toolTipMode</code></td>
<td>
Mode of toop tips: 0 (no tool tips), 1, or 2 (number of lines of tool tip)</td></tr>
<tr valign="top"><td><code>toolTipFontSize</code></td>
<td>
Size of font in tool tips (in points/pixels)</td></tr>
<tr valign="top"><td><code>toolTipOpacity</code></td>
<td>
Opacity of toop tips: between 0 and 1.  A value
of 0.9 allows the image behind the tooltip to be seen, but can
render slowly on some viewers</td></tr>
<tr valign="top"><td><code>title</code></td>
<td>
Title of plot</td></tr>
<tr valign="top"><td><code>sub.special</code></td>
<td>
Unless <code>sub.special=FALSE</code>, special SVG
characters (ampersand, less-than, etc.) in <code>title</code> will be substituted by the
appropriate XML encoding, except for an ampersand followed by
lower-case letters and then a semi-colon (if these substitutions are not made, it is easy to
inadvertently create unusable SVG files)</td></tr>
</table>

<h3>Details</h3>

<p>
This graphics do not appear in any window while they are being drawn
&ndash; SVG commands are written to a file and can be viewed in an SVG
viewer after the plot is completed.
</p>
<p>
After the plot is completed, the function <code><a onclick="findlink('grDevices', 'dev.html')" style="text-decoration: underline; color: blue; cursor: hand">dev.off</a></code> must
be called to close the graphics device and flush all unwritten SVG
commands to the file.
</p>
<p>
Text drawn on the graphic by commands like <code>text()</code> is subject to
XML special characters being replaced by the corresponding XML encoding,
except for an ampersand followed by
lower-case letters and then a semi-colon.  This behavior is NOT
controlled by <code>sub.special</code> and there is currently no way to
turn it off.
</p>
<p>
This device is not implemented as one that can do clipping.  Thus, R
commands like <code>text</code> will not draw the text if part of the text
might be outside the plotting region.  This can be the cause of
<code>legend</code> (or other functions that call <code>text</code>) omitting
text.  The solution is to make sure that the text is drawn inside the
plotting region, e.g., using commands like <code>legend(...,
    inset=0.01)</code>.
If text is not appearing, use <code>par(xpd=NA)</code>, which will do the
least clipping of text.  The example plot svgplot13.svg in
<a href="RSVGTipsDevice.html">RSVGTipsDevice</a> shows clipping that happens for various settings
of <code>par("xpd")</code>.
</p>
<p>
The clipping behavior can result in labels unexpectedly not appearing
in lattice graphics.  This can sometime be solved by making the region
in which labels are drawn larger, e.g., by doing something like
<code>xyplot(strip.par.text=list(lines=2), ...)</code>.
</p>


<h3>See Also</h3>

<p>
<a href="SVG.viewing.html">SVG viewing</a> Ways to view SVG files.
<a href="RSVGTipsDevice.design.html">Design and future</a> of the RSVGTips device.
<a href="RSVGTipsDevice.html">Overview</a> of the RSVGTips device (many more examples).
<code><a href="setSVGShapeToolTip.html">setSVGShapeToolTip</a></code>, <code><a href="setSVGShapeURL.html">setSVGShapeURL</a></code>, <code><a href="getSVGToolTipMode.html">getSVGToolTipMode</a></code>, <code><a onclick="findlink('grDevices', 'pictex.html')" style="text-decoration: underline; color: blue; cursor: hand">pictex</a></code>, <code><a onclick="findlink('grDevices', 'postscript.html')" style="text-decoration: underline; color: blue; cursor: hand">postscript</a></code>, <code><a onclick="findlink('grDevices', 'Devices.html')" style="text-decoration: underline; color: blue; cursor: hand">Devices</a></code>.
</p>


<h3>Examples</h3>

<pre>
## Not run: 
library("RSVGTipsDevice")
devSVGTips("svgplot1.svg", toolTipMode=1, title="SVG example plot 1: shapes and points, tooltips are title + 1 line")
plot(c(0,10),c(0,10), type="n", xlab="x", ylab="y", main="Example SVG plot with title+ 1 line tips (mode=1)")
setSVGShapeToolTip(title="A rectangle", desc="that is yellow")
rect(1,1,4,6, col='yellow')
setSVGShapeToolTip(title="1st circle with title only")
points(5.5,7.5,cex=20,pch=19,col='red')
setSVGShapeToolTip(title="A triangle", desc="big and green")
polygon(c(3,6,8), c(3,6,3), col='green')
# no tooltips on these points
points(2:8, 8:2, cex=3, pch=19, col='black')
# tooltips on each these points
invisible(sapply(1:7, function(x) {setSVGShapeToolTip(title=paste("point", x)); points(x+1, 8-x, cex=3, pch=1, col='black')}))
setSVGShapeToolTip(title="Text", desc="can have a tool tip too!")
text(x=4, y=9, lab="Poke me!", col="blue")
dev.off()

# Not run in tests because uses the SemiPar package for the fuel.frame data
# A plot of fuel mileage vs weight
library("RSVGTipsDevice")
library("SemiPar")
data(fuel.frame)
fuel.frame &lt;- cbind(fuel.frame,
    US=is.element(substring(fuel.frame$car.name, 1, 5),
                  c("Buick", "Chevr", "Chrys", "Dodge", "Eagle",
                    "Ford ", "Mercu", "Oldsm", "Plymo", "Ponti")))
devSVGTips("mlgvswgt1.svg", height=5, width=7, toolTipMode=1, title="Mileage vs Weight for autos, tooltips are title + 1 line")
plot(fuel.frame$Weight, fuel.frame$Mileage, type="n", xlab="Weight",
ylab="Miles per gallon", main="US cars in blue, imports in yellow")
for (i in seq(len=nrow(fuel.frame))) {
    setSVGShapeToolTip(title=fuel.frame[i,"car.name"],
        desc=paste(fuel.frame[i, "Type"], ", disp=", fuel.frame[i,"Disp."]))
    points(fuel.frame[i,"Weight"], fuel.frame[i,"Mileage"], pch=19,
        cex=2, col=if (fuel.frame[i,"US"]) "blue" else "yellow")
}
dev.off()
## End(Not run)
</pre>

<script Language="JScript">
function findlink(pkg, fn) {
var Y, link;
Y = location.href.lastIndexOf("\\") + 1;
link = location.href.substring(0, Y);
link = link + "../../" + pkg + "/chtml/" + pkg + ".chm::/" + fn;
location.href = link;
}
</script>


<hr><div align="center">[Package <em>RSVGTipsDevice</em> version 1.0-0 <a href="00Index.html">Index]</a></div>

</body></html>
